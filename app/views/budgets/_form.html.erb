<%= form_with model: [@vehicle, budget], local: true do |f| %>
  <% if budget.errors.any? %>
    <div class="alert alert-danger">
      <ul class="mb-0">
        <% budget.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="row">
    <div class="col-md-4 mb-3">
      <%= f.label :category, class: 'form-label' %>
      <%= f.select :category, Budget::CATEGORIES.map { |c| [c.titleize, c] },
          { prompt: 'Select category...' }, { class: 'form-select', required: true } %>
    </div>
    <div class="col-md-4 mb-3">
      <%= f.label :period, class: 'form-label' %>
      <%= f.select :period, Budget::PERIODS.map { |p| [p.titleize, p] },
          { prompt: 'Select period...' }, { class: 'form-select', required: true } %>
    </div>
    <div class="col-md-4 mb-3">
      <%= f.label :amount, 'Budget Limit ($)', class: 'form-label' %>
      <%= f.number_field :amount, class: 'form-control', min: 0.01, step: 0.01, required: true, placeholder: 'e.g. 200.00' %>
    </div>
  </div>

  <div class="d-flex gap-2">
    <%= f.submit class: 'btn btn-primary' %>
    <%= link_to 'Cancel', vehicle_budgets_path(@vehicle), class: 'btn btn-outline-secondary' %>
  </div>
<% end %>
